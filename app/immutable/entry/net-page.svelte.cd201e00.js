import{S as y,i as z,s as E,m as g,p as w,a as S,q as F,g as C,r as b,h as P,u as _,v,w as k,x,f as M}from"../chunks/index.52ca7fcd.js";import{C as V}from"../chunks/isSymbol.3680740e.js";import{c as j,C as A,a as m}from"../chunks/methods.8b783021.js";import{g as H}from"../chunks/clsx.m.cae8f9de.js";var L;(function(){var h,i,o,f,c,p,l,a;a=function(e){var t,s,r,n;return t=(e&255<<24)>>>24,s=(e&255<<16)>>>16,r=(e&65280)>>>8,n=e&255,[t,s,r,n].join(".")},l=function(e){var t,s,r,n,u,d;for(t=[],r=n=0;n<=3&&e.length!==0;r=++n){if(r>0){if(e[0]!==".")throw new Error("Invalid IP");e=e.substring(1)}d=i(e),u=d[0],s=d[1],e=e.substring(s),t.push(u)}if(e.length!==0)throw new Error("Invalid IP");switch(t.length){case 1:if(t[0]>4294967295)throw new Error("Invalid IP");return t[0]>>>0;case 2:if(t[0]>255||t[1]>16777215)throw new Error("Invalid IP");return(t[0]<<24|t[1])>>>0;case 3:if(t[0]>255||t[1]>255||t[2]>65535)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2])>>>0;case 4:if(t[0]>255||t[1]>255||t[2]>255||t[3]>255)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2]<<8|t[3])>>>0;default:throw new Error("Invalid IP")}},o=function(e){return e.charCodeAt(0)},f=o("0"),p=o("a"),c=o("A"),i=function(e){var t,s,r,n,u;for(n=0,t=10,s="9",r=0,e.length>1&&e[r]==="0"&&(e[r+1]==="x"||e[r+1]==="X"?(r+=2,t=16):"0"<=e[r+1]&&e[r+1]<="9"&&(r++,t=8,s="7")),u=r;r<e.length;){if("0"<=e[r]&&e[r]<=s)n=n*t+(o(e[r])-f)>>>0;else if(t===16)if("a"<=e[r]&&e[r]<="f")n=n*t+(10+o(e[r])-p)>>>0;else if("A"<=e[r]&&e[r]<="F")n=n*t+(10+o(e[r])-c)>>>0;else break;else break;if(n>4294967295)throw new Error("too large");r++}if(r===u)throw new Error("empty octet");return[n,r]},h=function(){function e(t,s){var r,n,u;if(typeof t!="string")throw new Error("Missing `net' parameter");if(s||(u=t.split("/",2),t=u[0],s=u[1]),s||(s=32),typeof s=="string"&&s.indexOf(".")>-1){try{this.maskLong=l(s)}catch{throw new Error("Invalid mask: "+s)}for(r=n=32;n>=0;r=--n)if(this.maskLong===4294967295<<32-r>>>0){this.bitmask=r;break}}else if(s||s===0)this.bitmask=parseInt(s,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(l(t)&this.maskLong)>>>0}catch{throw new Error("Invalid net address: "+t)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+s);this.size=Math.pow(2,32-this.bitmask),this.base=a(this.netLong),this.mask=a(this.maskLong),this.hostmask=a(~this.maskLong),this.first=this.bitmask<=30?a(this.netLong+1):this.base,this.last=this.bitmask<=30?a(this.netLong+this.size-2):a(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?a(this.netLong+this.size-1):void 0}return e.prototype.contains=function(t){return typeof t=="string"&&(t.indexOf("/")>0||t.split(".").length!==4)&&(t=new e(t)),t instanceof e?this.contains(t.base)&&this.contains(t.broadcast||t.last):(l(t)&this.maskLong)>>>0===(this.netLong&this.maskLong)>>>0},e.prototype.next=function(t){return t==null&&(t=1),new e(a(this.netLong+this.size*t),this.mask)},e.prototype.forEach=function(t){var s,r,n;for(n=l(this.first),r=l(this.last),s=0;n<=r;)t(a(n),n,s),s++,n++},e.prototype.toString=function(){return this.base+"/"+this.bitmask},e}(),L=h}).call(j);function N(h){let i,o,f,c;const p=[{inputLabel:I,inputValueStore:h[0],inputSize:$}];let l={};for(let t=0;t<p.length;t+=1)l=g(l,p[t]);i=new V({props:l});const a=[{outputRows:h[2],inputValueStore:h[0],preCalc:h[1]}];let e={};for(let t=0;t<a.length;t+=1)e=g(e,a[t]);return f=new A({props:e}),{c(){w(i.$$.fragment),o=S(),w(f.$$.fragment)},l(t){F(i.$$.fragment,t),o=C(t),F(f.$$.fragment,t)},m(t,s){b(i,t,s),P(t,o,s),b(f,t,s),c=!0},p(t,[s]){const r=s&1?_(p,[{inputLabel:I,inputValueStore:t[0],inputSize:$}]):{};i.$set(r);const n=s&7?_(a,[{outputRows:t[2],inputValueStore:t[0],preCalc:t[1]}]):{};f.$set(n)},i(t){c||(v(i.$$.fragment,t),v(f.$$.fragment,t),c=!0)},o(t){k(i.$$.fragment,t),k(f.$$.fragment,t),c=!1},d(t){x(i,t),t&&M(o),x(f,t)}}}const I="IPv4 / CIDR / Decimal",$=1;function R(h){const i=H("netInput",""),o=c=>{try{return new L(c)}catch{return null}},f=[{cols:[{title:"IPv4",size:1,method:m.dec_ip},{title:"Decimal",size:1,method:m.ip_dec}]},{border:!0,cols:[{title:"Binary",size:1,method:m.ip_bin,send:!1},{title:"Hexadecimal",size:1,method:m.ip_hex,send:!1}]},{cols:[{title:"Hosts",size:1,method:m.hosts,send:!1},{title:"Min Host",size:1,method:m.min_host},{title:"Max Host",size:1,method:m.max_host}]},{cols:[{title:"Network/Mask",size:1,method:m.net_mask},{title:"Broadcast",size:1,method:m.broadcast}]}];return[i,o,f]}class G extends y{constructor(i){super(),z(this,i,R,N,E,{})}}export{G as default};
