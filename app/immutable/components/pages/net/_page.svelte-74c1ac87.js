import{S as y,i as z,s as E,P as g,w,a as P,x as F,c as S,y as b,b as C,Q as _,f as k,t as v,z as x,h as M}from"../../../chunks/index-3776f072.js";import{C as V}from"../../../chunks/isSymbol-dfea86d6.js";import{c as j,C as A,n as m}from"../../../chunks/methods-64ff8b78.js";import{g as H}from"../../../chunks/stores-567c1fde.js";var L;(function(){var h,i,o,f,c,p,l,a;a=function(e){var t,s,n,r;return t=(e&255<<24)>>>24,s=(e&255<<16)>>>16,n=(e&255<<8)>>>8,r=e&255,[t,s,n,r].join(".")},l=function(e){var t,s,n,r,u,d;for(t=[],n=r=0;r<=3&&e.length!==0;n=++r){if(n>0){if(e[0]!==".")throw new Error("Invalid IP");e=e.substring(1)}d=i(e),u=d[0],s=d[1],e=e.substring(s),t.push(u)}if(e.length!==0)throw new Error("Invalid IP");switch(t.length){case 1:if(t[0]>4294967295)throw new Error("Invalid IP");return t[0]>>>0;case 2:if(t[0]>255||t[1]>16777215)throw new Error("Invalid IP");return(t[0]<<24|t[1])>>>0;case 3:if(t[0]>255||t[1]>255||t[2]>65535)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2])>>>0;case 4:if(t[0]>255||t[1]>255||t[2]>255||t[3]>255)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2]<<8|t[3])>>>0;default:throw new Error("Invalid IP")}},o=function(e){return e.charCodeAt(0)},f=o("0"),p=o("a"),c=o("A"),i=function(e){var t,s,n,r,u;for(r=0,t=10,s="9",n=0,e.length>1&&e[n]==="0"&&(e[n+1]==="x"||e[n+1]==="X"?(n+=2,t=16):"0"<=e[n+1]&&e[n+1]<="9"&&(n++,t=8,s="7")),u=n;n<e.length;){if("0"<=e[n]&&e[n]<=s)r=r*t+(o(e[n])-f)>>>0;else if(t===16)if("a"<=e[n]&&e[n]<="f")r=r*t+(10+o(e[n])-p)>>>0;else if("A"<=e[n]&&e[n]<="F")r=r*t+(10+o(e[n])-c)>>>0;else break;else break;if(r>4294967295)throw new Error("too large");n++}if(n===u)throw new Error("empty octet");return[r,n]},h=function(){function e(t,s){var n,r,u;if(typeof t!="string")throw new Error("Missing `net' parameter");if(s||(u=t.split("/",2),t=u[0],s=u[1]),s||(s=32),typeof s=="string"&&s.indexOf(".")>-1){try{this.maskLong=l(s)}catch{throw new Error("Invalid mask: "+s)}for(n=r=32;r>=0;n=--r)if(this.maskLong===4294967295<<32-n>>>0){this.bitmask=n;break}}else if(s||s===0)this.bitmask=parseInt(s,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(l(t)&this.maskLong)>>>0}catch{throw new Error("Invalid net address: "+t)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+s);this.size=Math.pow(2,32-this.bitmask),this.base=a(this.netLong),this.mask=a(this.maskLong),this.hostmask=a(~this.maskLong),this.first=this.bitmask<=30?a(this.netLong+1):this.base,this.last=this.bitmask<=30?a(this.netLong+this.size-2):a(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?a(this.netLong+this.size-1):void 0}return e.prototype.contains=function(t){return typeof t=="string"&&(t.indexOf("/")>0||t.split(".").length!==4)&&(t=new e(t)),t instanceof e?this.contains(t.base)&&this.contains(t.broadcast||t.last):(l(t)&this.maskLong)>>>0===(this.netLong&this.maskLong)>>>0},e.prototype.next=function(t){return t==null&&(t=1),new e(a(this.netLong+this.size*t),this.mask)},e.prototype.forEach=function(t){var s,n,r;for(r=l(this.first),n=l(this.last),s=0;r<=n;)t(a(r),r,s),s++,r++},e.prototype.toString=function(){return this.base+"/"+this.bitmask},e}(),L=h}).call(j);function N(h){let i,o,f,c;const p=[{inputLabel:I,inputValueStore:h[0],inputSize:$}];let l={};for(let t=0;t<p.length;t+=1)l=g(l,p[t]);i=new V({props:l});const a=[{outputRows:h[2],inputValueStore:h[0],preCalc:h[1]}];let e={};for(let t=0;t<a.length;t+=1)e=g(e,a[t]);return f=new A({props:e}),{c(){w(i.$$.fragment),o=P(),w(f.$$.fragment)},l(t){F(i.$$.fragment,t),o=S(t),F(f.$$.fragment,t)},m(t,s){b(i,t,s),C(t,o,s),b(f,t,s),c=!0},p(t,[s]){const n=s&1?_(p,[{inputLabel:I,inputValueStore:t[0],inputSize:$}]):{};i.$set(n);const r=s&7?_(a,[{outputRows:t[2],inputValueStore:t[0],preCalc:t[1]}]):{};f.$set(r)},i(t){c||(k(i.$$.fragment,t),k(f.$$.fragment,t),c=!0)},o(t){v(i.$$.fragment,t),v(f.$$.fragment,t),c=!1},d(t){x(i,t),t&&M(o),x(f,t)}}}const I="IPv4 / CIDR / Decimal",$=1;function R(h){const i=H("netInput",""),o=c=>{try{return new L(c)}catch{return null}},f=[{cols:[{title:"IPv4",size:1,method:m.dec_ip},{title:"Decimal",size:1,method:m.ip_dec}]},{border:!0,cols:[{title:"Binary",size:1,method:m.ip_bin,send:!1},{title:"Hexadecimal",size:1,method:m.ip_hex,send:!1}]},{cols:[{title:"Hosts",size:1,method:m.hosts,send:!1},{title:"Min Host",size:1,method:m.min_host},{title:"Max Host",size:1,method:m.max_host}]},{cols:[{title:"Network/Mask",size:1,method:m.net_mask},{title:"Broadcast",size:1,method:m.broadcast}]}];return[i,o,f]}class G extends y{constructor(i){super(),z(this,i,R,N,E,{})}}export{G as default};
